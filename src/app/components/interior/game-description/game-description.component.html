<div class="col-8 game-description">
    <div class="images">
        <ng-container *ngIf="game.schedule?.length!>0">
            <span class="closed-label open" *ngIf="!game.closed">Abierto ahora</span>
            <span class="closed-label closed" *ngIf="game.closed">Cerrado ahora</span>
        </ng-container>
        <app-image-slider></app-image-slider>
    </div>
    <div class="game-data row">
        <div class="game-title"><span class="title">{{game.name}}</span> <span [style.color]="game.category?.color"
                class="rating">{{game.gameReviewSummary?.avgStars}} <span> <em class="fa fa-star"></em></span>
            </span> <span class="reviews"> {{game.gameReviewSummary?.reviewsCount}} valoraciones</span>
        </div>
        <div class="enterprise-container row ">
            <span class="enterprise"><em class="fa-solid fa-building" [style.color]="game.category?.color"></em>
                {{game.user?.name}}
            </span>
        </div>
        <div class="game-address row">
            <p><em class="fa fa-location-dot" [style.color]="game.category?.color"></em> {{game.address}}</p>
        </div>

        <div class="row">
            <span (click)="searchCategory()" class="category" [style.background-color]="game.category?.background_color"
                [style.color]="game.category?.color">
                {{game.category?.name}} </span>
            <span class="category" [style.background-color]="game.subcategory?.background_color"
                [style.color]="game.subcategory?.color">
                {{game.subcategory?.name}} </span>
        </div>

        <div class="description game-item">
            <h1>Quiénes somos</h1>
            <p>{{game.description}}</p>
        </div>

        <div class="open-reservations-header my-auto" *ngIf="openReservations.length>0">
            <h1 class="title">¡Reservas FUNLY <img src="assets/imgs/box-transparent.svg" style="width:30px" alt="">
                abiertas!</h1>
            <p class="subtitle">¡Corre, se cerrarán <span [style.color]="game.category?.color">1 hora</span> antes de
                que
                empiece el evento!</p>
        </div>
        <div class="open-reservations-header game-item" *ngIf="openReservations.length<=0">
            <p class="title">No hay reservas FUNLY <img src="assets/imgs/box-transparent.svg" style="width:20px" alt="">
                disponibles</p>
            <p class="subtitle">¿No tienes nadie con quien ir?, reserva TÚ sólo con las reservas FUNLY <img
                    src="assets/imgs/box-transparent.svg" style="width:20px" alt=""> y conoce a gente!</p>
            <button [style.background]="game.category?.color" class="create-funly-reservation-btn">Crea tu reserva
                única</button>
        </div>
        <div class="open-reservations my-auto game-item" *ngIf="openReservations.length>0">
            <app-open-reservation-small routerLink="{{reservation.game?.id}}/interior" [reservation]="reservation"
                *ngFor="let reservation of openReservations">
            </app-open-reservation-small>
        </div>

        <div class="reservation-btns game-item row">
            <h1>¡Reserva de forma tradicional!</h1>
            <div class="calendar row">
                <div class="col-6 my-auto" [matCalendarColor]="game.category?.color!">
                    <mat-calendar (selectedChange)="changeDate($event)" [selected]="day_selected"
                        [dateFilter]="dateFilter"></mat-calendar>
                </div>
                <div class="col-6 my-auto" *ngIf="day_selected">
                    <p class="title-hour">¡Elige una hora!</p>
                    <p>Para el día {{day_selected | date}}</p>
                    <ng-container *ngFor="let hour of disponible_hours">
                        <span class="hour" *ngIf="hour.open_reservation?.length!<=0"><i class="fa-solid fa-door-open"></i> {{hour.hour | slice:0:5}}</span>
                        <span class="hour-disabled" *ngIf="hour.open_reservation?.length!>0"> <i class="fa-solid fa-door-closed"></i>{{hour.hour | slice:0:5}}</span>
                    </ng-container>
                </div>
            </div>
            <div class="row">
                <div class="col-12">
                    <button class="reservation-btn" [style.background]="game.category?.color">Reserva Estándar</button>
                </div>
            </div>
        </div>



        <div class="row game-item">

            <div class="col-6">
                <h1>Valoraciones</h1>
                <p>Déjanos tu opinión para ayudar a los usuarios!</p>
            </div>
            <div class="col-6 my-auto" style="text-align:center;">
                <button class="btn" [style.background]="game.category?.color" (click)="showAddReviewModal()"><em
                        class="fa fa-pencil"></em> Dános
                    tu opinión</button>
            </div>
        </div>

        <app-game-reviews [game]="game" (loadMoreReviews)="loadMoreReviews.emit()"></app-game-reviews>
    </div>



</div>